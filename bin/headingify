#! /usr/bin/env ruby

require 'headingify'

# print help by default
if ARGV.length == 0
  print Headingify.help
end

ARGV.each_with_index do |s, i|
  if s =~ /-*h$/ || s =~ /-*help$/
    print Headingify.help
  elsif s =~ /-*v$/ || s =~ /-*version$/
    t = "#{Headingify::TITLE}"
    v = "#{Headingify::VERSION}"
    u = "(#{Headingify::UPDATE} revision #{Headingify::REVISION})"
    print "#{t}, #{v} #{u}\n"
  elsif i == 0
    print s.headingify + "\n"
  else
    print Headingify.help
  end
end
